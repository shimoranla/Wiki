[{"title":"changelog","date":"2025-08-02T23:51:55.000Z","url":"/posts/support/website/changelog/","tags":[["更新日志","/tags/%E6%9B%B4%E6%96%B0%E6%97%A5%E5%BF%97/"]],"categories":[["undefined",""]],"content":"1.0倒腾了两天，终于把站点弄好了"},{"title":"站点维护路线图","date":"2025-08-02T23:50:47.000Z","url":"/posts/support/website/feature/","tags":[["帮助","/tags/%E5%B8%AE%E5%8A%A9/"],["站点公告","/tags/%E7%AB%99%E7%82%B9%E5%85%AC%E5%91%8A/"]],"categories":[["undefined",""]],"content":"WIP: 评论系统和登录系统挖个大坑，支持通过 GitHub 进行登录和评论。 会提供 GitHub OAuth 登录和 GitHub PAT 登录两种方式。"},{"title":"友链申请须知","date":"2025-08-02T14:31:34.000Z","url":"/posts/support/website/friend-link-tip/","categories":[["undefined",""]],"content":"网站必须符合以下要求1.符合中国大陆法律法规 2.有一个稳定可访问的连接（无论是否可在中国大陆访问） 须知1.我只会在闲暇时处理友链申请，所以你的友链请求如果在工作日提交可能会推迟一段时间才会链入站点 如果你很介意，可以先提交申请，待我挂上后你再添加友链 2.如果你也没法很快处理，请在请求时一并告知，并提供一个合理的预期时长，否则友链可能会在 14 天后被移除。 3.页面内可以有广告，但是不能直接指向推广页（这种情况下一定会被拒绝）。 4.由于本站不提供站内评论功能（其实是还没写），所以请求会被转到 GitHub 上处理。 点击此交换友链"},{"title":"友链展示区","date":"2025-08-02T14:10:31.000Z","url":"/posts/friend-link/","tags":[["友情链接","/tags/%E5%8F%8B%E6%83%85%E9%93%BE%E6%8E%A5/"]],"categories":[["友情链接","/categories/%E5%8F%8B%E6%83%85%E9%93%BE%E6%8E%A5/"]],"content":" 温馨提示 在请求交换友链前，请务必阅读友链申请须知，这可以节约双方的时间。 "},{"title":"PCL 报错应用程序没有调用 WSAStartUp，或 WSAStartUp 失败解决方案","date":"2025-08-02T13:57:29.000Z","url":"/posts/support/pcl2/network/WSAStartUpFailed/","tags":[["Network","/tags/Network/"],["帮助","/tags/%E5%B8%AE%E5%8A%A9/"],["疑难杂症","/tags/%E7%96%91%E9%9A%BE%E6%9D%82%E7%97%87/"],["PCL2","/tags/PCL2/"],["随手记","/tags/%E9%9A%8F%E6%89%8B%E8%AE%B0/"]],"categories":[["undefined",""]],"content":"解决方案很简单，你看看计算机有没有装中国移动云盘，有的话卸掉重启 PCL 就行。 经过验证，几乎百试百灵。"},{"title":"从官方源获取版本文件","date":"2025-08-02T13:44:59.000Z","url":"/posts/build-launcher/get-version-from-offlical/","categories":[["undefined",""]]},{"title":"从零开始写一个 Minecraft 启动器 - 系列专栏","date":"2025-08-02T13:41:57.000Z","url":"/posts/build-launcher/index/","tags":[["Minecraft Launcher","/tags/Minecraft-Launcher/"],["无中生有系列","/tags/%E6%97%A0%E4%B8%AD%E7%94%9F%E6%9C%89%E7%B3%BB%E5%88%97/"],["有生之年系列","/tags/%E6%9C%89%E7%94%9F%E4%B9%8B%E5%B9%B4%E7%B3%BB%E5%88%97/"]],"categories":[["undefined",""]],"content":"开坑了开坑了，这是个大型专栏，从 0 到 1 教你怎么写启动器 目录推荐按顺序阅读 从官方源获取游戏文件"},{"title":"DN42 实验网络注册指北","date":"2025-08-01T10:51:11.000Z","url":"/posts/dn42/dn42-registry/","tags":[["Network","/tags/Network/"]],"categories":[["undefined",""]],"content":"开始之前必读不建议更改除了必须要更改地地方，不然可能推上去检查报错导致努力白费。 DN42 网络不提供网络出口，也不提供绕过国内审查的功能！！ 在注册 DN42 之前，请确保你已经可以熟练的运用 Git 等工具，并有能力操作 Linux 系统（非图形化版本）。 DN42 网络基本模拟了真实的互联网自治系统注册流程，所以总体比较繁琐（本人弄了快一个小时才完成这些注册流程）。 DN42 注册需要签名，GPG 或 SSH 均可。 请注意，在中国大陆内使用 DN42 网络和国外服务器进行 Peer 违反了《中华人民共和国计算机信息网络国际联网管理暂行规定 》的第六条，请自行衡量可能的法律风险。 Windows 用户注册建议使用 WSL 完成，或者使用虚拟机，DN42 的 Registry 存储库含有 NTFS 不能处理的特殊字符。 建议在操作过程中使用魔法，会节约不少时间。 教程可能随时过时，所以仅供参考。 DN42 官方的注册指南 DN42 官方的 Git 操作指南（如何创建 Pull Request） 你也可以看看前辈的课本，比我写的更专业点。 前置工作因为 DN42 网络注册使用 Git 进行管理，所以你必须注册一个账号。 DN42 的 Gitea 服务器地址 注册完成账号后，你需要转到 DN42 的 Registry，然后点派生 Fork 一份存储库到个人账号下。 Fork 完成后，使用 Git 拷贝个人账号下的远程存储库到本地，进入存储库，然后使用如下命令配置 Git 使用的用户名和邮箱 因为 DN42 需要对提交签名，所以你需要生成 SSH&#x2F;GPG 的公钥。 密钥选一个就行，不用都生成。 创建 GPG 密钥使用此命令生成新的 GPG 密钥 会提供 6 中密钥类型让你选择，这里按 Enter 选默认的 ECC 公钥。 然后会让你选密钥生成算法，这里按 Enter 选择默认的 ECC 算法。 第三步选择密钥过期时间，输入纯数字是天数，后面加个 w 就是星期，以此类推需要月就是 m 年就是 y。 按下回车后会让你确认，输入 y 就行。 接下来就是填写信息。 之后会让你设置安全密钥的密码（出于安全考虑，TUI 环境下密码默认不显示，不是 Bug，注意别打错了），如果你确信密钥不会泄露可以不填。 创建完成后使用如下命令列出你的密钥。 复制密钥的 ID，然后使用如下命令将你的公钥发送到密钥服务器。 当然大陆网络环境嘛….. 懂的都懂，你的提交可能会因为网络问题失败。 你可以选择魔法、换一个密钥服务器，或者导出你的 Key 然后使用魔法访问 keyserver.ubuntu.com，通过网页端提交 Key。 创建 SSH 密钥使用如下命令创建 SSH 密钥 会问你保存位置，一般情况下默认就好。 然后会要求输入密钥的保护密码（出于安全考虑，TUI 环境下密码默认不显示，不是 Bug，注意别打错了），你也可以按 Enter 留空。 正式流程创建 Mntner 文件前置工作完成后，进入存储库文件夹，先在 data/mntner 下面创建一个 [名称]-MNT 文件。 请注意替换文本。 各个字段的解释如下: mntner: 即 Maintainer，维护者，指这个网络由谁维护。 admin-c: 即 Admin Contact，管理员联系信息，指向后续创建的 Person 文件，一般为 [名称]-DN42。 tech-c: 即 Tech Contact，技术员联系信息，指向后续创建的 Person 文件，一般也为 [名称]-DN42。 mnt-by：即 maintain by，由谁维护，指向这个账户本身，一般为 [昵称]-MNT。 source：固定值 DN42。 auth: 认证方式，GPG 密钥格式为 pgp-fingerprint [密钥 ID]，SSH 填写密钥内容。 remarks: 备注 以下是我注册填写的文件，仅供参考，请勿照抄！ [点击查看] 创建 Person 文件填写完成后，你需要在 data/person 下面创建一个 [名称]-DN42 文件。 各个字段的解释如下 person: 你的名字 e-mail: 电子邮件地址 contact: 其他联系方式，比如 Telegram，填写为 telegram:[用户名] nic-hdl：NIC handle，指向文件本身，即 [昵称]-DN42。 mnt-by：maintain by，由谁维护，指向你之前创建的 MNT 文件，[昵称]-MNT。 source：固定值 DN42。 以下是我注册填写的文件，仅供参考，请勿照抄！ [点击查看] 选择 ASN填写完成后，你需要一个 ASN。 如果你在公共互联网上有自己的 ASN 的话。 首先让我膜拜一下大佬。 然后你可以把自己的 ASN 填进去，DN42 网络的管理员验证确认这个 ASN 归你所有后，就会批准你的请求。 不过据说比较麻烦，还容易端口冲突，不如自己弄个 DN42 的 ASN。 如果你在公网没有 ASN 或者不想接入 DN42 使用。 你可以在这里选择 DN42 自己的 ASN，截止到 2022 年 DN42 开放注册的 ASN 范围是 4242420000 - 4242423999，共计 4000 个。 建议通过区块浏览器选一个空闲的 ASN。 然后在 data/aut-num 创建文件名为 ASN 编号 的文件，写入如下内容 各个字段的解释如下 aut-num：AS 编号（ASN）。 as-name：AS 的名称，一般只在 DN42 的一些网络结构示意图中看到。这里设置为 [昵称]-AS。 descr：AS 简介，一般只在结构图中看到，随意填写。 admin-c：Admin Contact，管理员联系信息，指向你创建的 Person 文件，[昵称]-DN42。 tech-c：Tech Contact，技术员联系信息，指向你创建的 Person 文件，[昵称]-DN42。 mnt-by：Maintain by（由谁维护），由谁维护，指向你创建的的 MNT 文件，[昵称]-MNT。 source：固定值 DN42。 以下是我注册填写的文件，仅供参考，请勿照抄！ [点击查看] 选择 IPv4 地址DN42 网络使用的 IPv4 地址是 172.20.0.0&#x2F;14，也就是 172.20.0.0-172.23.255.255。 但是但是，因为有些地址是保留给其他用途的，你不能申请，所以直接从文件内选一块地址不太方便，建议还是用区块浏览器选个空闲的 IPv4。 DN42 最小可申请的 IPv4 地址块是 &#x2F;29，即 8 个 IPv4 地址，去掉网络地址和广播地址，可提供 6 个可用的 IPv4 地址。 DN42 网络的建议分配是 &#x2F;27，也就是 32 个 IPv4 地址，去掉网络地址和广播地址，可提供 30 个可用的 IPv4 地址。 你可以直接申请的最大地址块是 &#x2F;26，可提供 64 个 IPv4 地址，同样去掉网络地址和广播地址，可提供 62 个可用的 IPv4 地址。 如果你的设备很多，超过 62 个，需要更大的 IPv4 地址块，那么 首先让我膜拜一下大佬。 然后你的注册请求不会被马上批准，你需要联系到 DN42 的其他成员，告诉大家你需要更大的 IPv4 分配并阐明理由，请求大家投票。 联系方式可以在这里找 但是但是，不建议一上来就申请这么大的分配。 可以先找一块 &#x2F;24 段余量比较多的，然后申请其中的 &#x2F;27 段，等后面有需要了再继续调整或者扩大分配，这样比较容易被批准。 另外，千万不要占着 &#x2F;24 不用！！！ DN42 的 IPv4 地址和公网一样珍贵。 选好 IPv4 地址块后，在 data/inetnum 下建一个新建地址块，比如如果你选 172.22.167.190&#x2F;27 那么文件名就是 172.22.167.190_27，然后填写这个文件。 如果你不会写，可以选择把文件、地址、名称喂给 AI 让 AI 帮你写。 各个字段的解释如下 inetnum：地址块的范围，也就是网络地址 - 广播地址。 netname：地址块名称，基本没用，可以随便取（但一般建议保持 [昵称]-IPV4 格式）。 remarks：随意填写。 descr：随意填写。 country：国家&#x2F;地区代号，比如中国大陆是 CN，中国香港是 HK，美国是 US。 admin-c：admin contact，管理员联系信息，指向你的 Person 文件，[昵称]-DN42。 tech-c：Tech Contact，技术员联系信息，指向你的 Person 文件，[昵称]-DN42。 mnt-by：Maintain by，由谁维护，指向你之前的 MNT 文件，[昵称]-MNT。 nserver：反向解析服务器，如果看不懂那么你大概率不需要，删掉就行。 status：固定值 ASSIGNED。 cidr：CIRD 形式的 Inetnum。 source：固定值 DN42。 以下是我注册填写的文件，仅供参考，请勿照抄！ [点击查看] 到此 IPv4 配置还没结束，你需要同时配置 route 以授权你的 ASN 使用这个 IPv4 地址。 在 data/route 同名文件，写入如下文本。 各个字段的解释如下 route: CRID 格式的 Inetnum，也就是 xxx.xxx.xxx.xxx&#x2F;xx 这种。 descr: 备注，随便填。 origin：授权给哪个 AS 使用这个地址块，填你自己的 AS 编号。 mnt-by: 由谁维护，指向你的 MNT 文件。 source: 固定值 DN42 以下是我注册填写的文件，仅供参考，请勿照抄！ [点击查看] 选择 IPv6 地址鉴于现在是 2025 年，大多数运营商分配&#x2F;自购的猫、家庭网关、路由器符合新的国标，支持 IPv6 网络，所以最好同时申请 IPv6 地址。 DN42 的 IPv6 地址在 fd00::&#x2F;8 范围，是私有 IPv6。 DN42 IPv6 分配是 &#x2F;48，足够任何人使用的（这可是可以给全球每一粒沙子都分配一个地址的 IPv6）。 就算你的设备只支持 &#x2F;64，一个 &#x2F;48 可以划出 65535 个 &#x2F;64，你可以和每个 DN42 成员都 Peer 过去。 你可以用区块浏览器生成随机的空闲 IPv6。 你可能会想要自定义 IPv6 地址，写一些特殊纪念意义的东西进去。 首先，这是可以的。 但是但是，如果你这样做就违反了 RFC 4193 中规定的 IPv6 ULA 地址应该随机生成，以确保全局唯一不冲突。 因为 DN42 拿不到其他 IPv6 地址的分配情况，你自定义的地址可能与其他网络的地址冲突。 如果你和别人 Peer 时你的地址和对方的其他网络冲突了，你需要重新编排网络内的全部 IPv6 地址，以确保冲突解决（讲真的，这看起来可不好玩）。 然后，DN42 各个管理员对自定义地址的态度不一样，有的人申请到了，但是有的人被拒绝了。 如果你确实想要自定义 IPv6 地址，在执行合并操作前，管理员会询问确保你确实想要自定义地址。 Your inet6num violates RFC4193 section 3.2. Are you fully aware of the consequences and do you really want to continue? Being forced to renumber your whole network really isn’t fun. 如果你确实认为需要自定义地址，就回复 Yes, I’m sure。 待确认 IPv6 地址后，需要在 /data/inet6num 建立对应的 IPv6 地址块文件。 格式如下 各个字段的解释如下 inetnum：地址块的范围，也就是网络地址 - 广播地址。 netname：地址块名称，基本没用，可以随便取（但一般建议保持 [昵称]-IPV4 格式）。 remarks：随意填写。 descr：随意填写。 country：国家&#x2F;地区代号，比如中国大陆是 CN，中国香港是 HK，美国是 US。 admin-c：admin contact，管理员联系信息，指向你的 Person 文件，[昵称]-DN42。 tech-c：Tech Contact，技术员联系信息，指向你的 Person 文件，[昵称]-DN42。 mnt-by：Maintain by，由谁维护，指向你之前的 MNT 文件，[昵称]-MNT。 nserver：反向解析服务器，如果看不懂那么你大概率不需要，删掉就行。 status：固定值 ASSIGNED。 cidr：CIRD 形式的 Inetnum。 source：固定值 DN42。 以下是我注册填写的文件，仅供参考，请勿照抄！ [点击查看] 然后需要建立 Route 文件，文件位于 data/route6 下 格式如下 各个字段的解释如下 route: CRID 格式的 Inetnum，也就是 xxxx:xxxx:xxxx::&#x2F;xx 这种。 desct: 备注，随便填。 origin：授权给哪个 AS 使用这个地址块，填你自己的 AS 编号。 mnt-by: 由谁维护，指向你的 MNT 文件。 source: 固定值 DN42 以下是我注册填写的文件，仅供参考，请勿照抄！ [点击查看] 至此你已经完成了 DN42 网络的大部分注册流程。 检查文件格式由于 DN42 尽可能的模拟的现实注册流程，因此对格式有严格要求。 你可以使用如下命令检查文件格式（需要在仓库根目录做这个）。 如果没有报错，则你的文件不存在格式问题，大概率可以一次过审。 但是报错了也没关系，你可以试试如下命令尝试修复文件格式。 如果没有解决的话，你可能需要根据报错信息重走部分流程。 推送仓库GPG 签名在推送之前，我们需要保存本地更改，如果你使用 GPG 则必须配置 Git 签名。 然后使用如下命令进行提交。 SSH 签名对于 SSH 签名，你需要使用 git log 查看你提交的 Hash。 然后使用如下命令进行签名。 然后将结果附在 PR Description 中。 更新本地分支因为整个注册流程非常繁琐以至于需要消耗大量时间，在完成期间远程分支可能会有更新，你需要同步这些更改 使用如下命令同步更改。 推送使用如下命令推送。 发送注册请求转到 DN42 Registry 存储库，找到合并请求选项卡，然后点击创建合并请求。 将来源设置成账号下的存储库，然后点击创建。 注意事项1.请使用英文。 2.一个 PR 不能包含多于一个 Commit，如果你创建了两个 Commit，请使用 bash ./squash-my-commits，然后通过 git push -f 强制推送到远程存储库（不加 -f 会被 rejected）。 3.如果管理员要求更改，请按照说明更改然后推送到存储库（不要重开 PR）。 结束如果没有意外的话，PR 会在一至两天内被合并。 然后你就可以拿着新新分配的 IP 去和别人 Peer 一下。"},{"date":"2025-08-04T02:52:49.876Z","url":"/oauth20/callback.html","categories":[["undefined",""]],"content":" OAuth 授权回调结果：失败 您的浏览器（或广告阻止程序） 正在阻止本站的 JavaScript 代码 function resolveHTML(html){ if(html === null || html === undefined) return null; return html.replace(/[&\"']/g, tag => ({ '&': '&amp;', '': '&gt;', '\"': '&quot;', \"'\": '&#39;' }[tag] || tag)); } let resultHTML = ` OAuth 授权回调结果：{isOK} {descr} `; let url = new URL(window.location.href); let code = url.searchParams.get(\"code\"); let error = resolveHTML(url.searchParams.get(\"error\")); let errorDescription = resolveHTML(url.searchParams.get(\"error_description\")); let callbackHTML = \"\"; // 让我们 404 一下 if(error === null && errorDescription === null && code === null){ window.location.href = \"\" } else if(error){ if(error.includes(\"denied\")) errorDescription = \"用户取消授权\"; callbackHTML = resultHTML.replace(\"{isOK}\",\"登录失败\").replace(\"{descr}\",errorDescription); } else if (!code){ callbackHTML = resultHTML.replace(\"{isOK}\",\"登录失败\").replace(\"{descr}\",\"授权代码无效\"); } else{ callbackHTML = resultHTML.replace(\"{isOK}\",\"登录成功\").replace(\"{descr}\",\"此页面将在 5 秒后关闭\"); setTimeout(5000,() => localStorage.setItem(\"closeOAuthWindow\",\"True\")) } window.document.getElementById(\"oauth20\").outerHTML = callbackHTML //Gmal.alert('这是一个弹窗') 这可能导致评论等功能无法使用，除此之外不会有实质性影响 "},{"date":"2025-08-04T02:52:49.876Z","url":"/assets/script/notice/GmAlert.min.js","categories":[["undefined",""]],"content":"var Gmal=function(){\"use strict\";var e={on(e,t,n,a){e.addEventListener(t,n,a)},off(e,t,n){e.removeEventListener(t,n)}};const t=document,n=t.documentElement;function a(e){return`gmal-${e}`}function o(e,...n){const a=t.createElement(e);return a.classList.add(...n),a}function r(...e){return o(\"div\",...e)}const i=()=>{let e=m(\".gmal\");return e||(e=r(\"gmal\"),t.body.append(e)),e};function s(e,t){const n=e.style.cssText.split(\";\");n.pop(),e.style.cssText=`${n.concat(t).join(\";\")};`}function l(e,t){t.forEach((t=>{e.style.removeProperty(t)}))}function c(e=!0){const a=t.body;e?s(a,[\"overflow: hidden\",`padding-right: ${window.innerWidth-n.clientWidth}px`]):l(a,[\"overflow\",\"padding-right\"])}function m(e,t=n){return t.querySelector(e)}function d(e){let t=m(`#${a(\"style\")}`);t||(t=o(\"style\"),t.id=a(\"style\"),document.head.append(t)),t.innerHTML+=e}function g(t,n){e.on(t,\"animationend\",(e=>{n(e.animationName)}))}function f(e,t){l(e,[\"animation-name\"]),e.offsetHeight,s(e,[`animation-name:${t}`])}d(\".gmal{z-index:2019;color:var(--gmal-text);word-break:normal;word-wrap:break-word;--gmal-text:#5a5a5a;height:0;font:16px/1.3 Helvetica Neue,Helvetica,Arial,PingFang SC,Hiragino Sans GB,Heiti SC,Microsoft YaHei,WenQuanYi Micro Hei,sans-serif;position:fixed}.gmal *{box-sizing:border-box}.gmal-close{cursor:pointer;opacity:.3;border-radius:5px;font-size:1.5em;transition:all .2s;display:flex}.gmal-close:hover{background:var(--gmal-border-c);opacity:.5}.gmal-progress{position:absolute;top:0;bottom:0;left:0;right:0;overflow:hidden}.gmal-progress .gmal-progress-bar{background:var(--gmal-bar-bg);width:0;height:100%;display:flex}\");class p{constructor(e,t){this.conf={timeout:2500},this.id=0,this.insts=new Map,this.conf={...this.conf,...t},this.core=e}config(e){this.conf={...this.conf,...e}}fire(e){const t=this.mkMsg(e);return this.sT(t,null==e?void 0:e.timeout),t}sT(e,t){if(0===t)return;t=t||this.conf.timeout;const{$el:n}=e,a=this.mkP(e,t);a.resume(),n.onmouseenter=a.pause,n.onmouseleave=a.resume}mkP(e,t){const{$el:n}=e,o=r(a(\"progress\")),i=r(a(\"progress-bar\"));o.append(i),n.append(o),i.ontransitionend=()=>{e.close(-1)};const l=()=>i.clientWidth/o.clientWidth;return e.progress={pause:()=>{s(i,[\"transition:none\",`width:${100*l()}%`])},resume:()=>{s(i,[\"width:100%\",`transition:width ${t*(1-l())}ms linear`])}}}mkMsg(e){const t=this.id++,n={...this.conf,...e,content:e.content||\"\",onClosed:t=>{(null==e?void 0:e.onClosed)&&e.onClosed(t)},beforeClose:async n=>{if(null!=e&&e.beforeClose){if(!await e.beforeClose(n))return!1}return this.insts.delete(t),!0}},a=this.core(n);let o=!1;const r=()=>{o||(o=!0,a.open())};n.className&&a.$el.classList.add(...n.className),n.style&&s(a.$el,n.style);const i=this.insts.values().next().value;var l;i&&(null==(l=i.progress)||l.pause(),i.close(-2));const c={...a,open:r};return this.insts.set(t,c),r(),c}}function u(e,t,n){t();const a=new p(e,n),o=(...e)=>a.fire(function(e){const t={};let n=!1;const a=e=>{switch(typeof e){case\"string\":n?t.text=e:(t.content=e,n=!0);break;case\"number\":t.timeout=e;break;case\"object\":Object.assign(t,e)}};for(let t=0;t{r||(r=!0,setTimeout((()=>{r&&(n.innerHTML=b(\"1.4em\"))}),50),await t(),n.textContent=e,r=!1)},n.classList.add(a(\"alert-btn\")),n}let y=0;function v(e){let t=m(`.${a(\"overlay\")}`);if(t||(t=r(a(\"overlay\")),i().append(t),g(t,(e=>{e===a(\"fade-in\")&&(y=3),e===a(\"fade-out\")&&(y=0,c(!1),s(t,[\"display: none\"]))}))),e){if(y>1)return t;c(),y=2,f(t,a(\"fade-in\")),s(t,[\"display: block\"])}else{if(y{f(n,a(\"shake\"))},c=async r=>{if(s)return void l();s=!0;if(!await t.beforeClose(r))return s=!1,void l();const i=m(`.${a(\"overlay\")}`);return-2!==r&&v(!1),e.off(i,\"click\",o),f(n,a(\"alert-out\")),new Promise((e=>{g(n,(o=>{o===a(\"alert-out\")&&(n.remove(),t.onClosed(r),e())}))}))};if(o=()=>{c(-3)},t.cancelLabel||t.confirmLabel){const e=r(a(\"alert-btn-group\"),a(\"hairline\"));t.cancelLabel&&e.append(h(t.cancelLabel,(async()=>{await c(2)}))),t.confirmLabel&&e.append(h(t.confirmLabel,(async()=>{await c(1)}))),n.append(e)}return{close:c,open:()=>{e.on(v(!0),\"click\",o),i().append(n),f(n,a(\"alert-in\"))},$el:n}}),(()=>{d('.gmal{--gmal-alert-bg:#fff;--gmal-overlay-bg:#00000080;--gmal-border-c:#00000017}.gmal-overlay{z-index:0;background:var(--gmal-overlay-bg);animation-duration:.3s;position:fixed;top:0;bottom:0;left:0;right:0}.gmal-alert{z-index:1;background:var(--gmal-alert-bg);border-radius:16px;flex-direction:column;justify-content:space-between;width:94%;max-width:550px;min-height:172px;margin:0 auto;animation-duration:.25s;display:flex;position:fixed;top:45%;left:0;right:0;overflow:hidden;transform:translateY(-50%)}.gmal-alert .gmal-progress{pointer-events:none;opacity:0}.gmal-alert-btn-group{justify-content:center;margin-top:1rem;display:flex;position:relative}.gmal-alert-btn-group:after{border-top-width:1px!important}.gmal-alert-btn-group .gmal-alert-btn{cursor:pointer;background:0 0;border:0;width:100%;height:48px;padding:.8em 1em;font-size:1em;font-weight:500;position:relative}.gmal-alert-btn-group .gmal-alert-btn:nth-child(2):after{border-left-width:1px}.gmal-alert-btn-group .gmal-alert-btn:hover{background-image:linear-gradient(#0000000a,#0000000a)}.gmal-hairline:after{box-sizing:border-box;pointer-events:none;content:\" \";border:0 solid var(--gmal-border-c);position:absolute;top:-50%;bottom:-50%;left:-50%;right:-50%;transform:scale(.5)}.gmal-alert-content{z-index:1;color:inherit;justify-content:center;padding:1.5em 1em;font-size:1.125em;display:flex;overflow:auto}.gmal-alert-title{color:inherit;text-align:center;max-width:100%;margin:0;padding:1em 1em 0;font-size:1.75em;font-weight:600;position:relative}@keyframes gmal-alert-in{0%{opacity:0;transform:translateY(-50%)scale(.6)}to{opacity:1;transform:translateY(-50%)scale(1)}}@keyframes gmal-alert-out{to{opacity:0;transform:translateY(-50%)scale(.6)}}@keyframes gmal-shake{0%{transform:translateY(-50%)}25%{transform:translate(-8px)translateY(-50%)}50%{transform:translate(8px)translateY(-50%)}75%{transform:translate(-8px)translateY(-50%)}to{transform:translateY(-50%)}}@keyframes gmal-fade-out{to{opacity:0}}@keyframes gmal-fade-in{0%{opacity:0}to{opacity:1}}')}),{timeout:0,confirmLabel:\"确定\"});const w=u((function(e){const t=r(a(\"msg\")),n=r(a(\"msg-main\"));n.innerHTML=`${e.content}`,t.append(n);let o=e.icon||\"\";\"loading\"===o&&(o=b());const s=r(a(\"icon\"));return s.innerHTML=o,o&&n.prepend(s),{open:()=>{i().append(t),f(t,a(\"alert-in\"))},close:async n=>(await e.beforeClose(n),f(t,a(\"alert-out\")),new Promise((o=>{g(t,(r=>{r===a(\"alert-out\")&&(t.remove(),e.onClosed(n),o())}))}))),$el:t}}),(()=>{d(\".gmal{--gmal-msg-bg:#000000b3;--gmal-msg-c:#fff}.gmal-msg{z-index:2;width:-webkit-max-content;width:max-content;margin:0 auto;animation-duration:.25s;position:fixed;top:45%;left:0;right:0;transform:translateY(-50%)}.gmal-msg .gmal-progress{pointer-events:none;opacity:0}.gmal-msg-main{box-sizing:border-box;color:var(--gmal-msg-c);background:var(--gmal-msg-bg);border-radius:4px;flex-direction:column;justify-content:center;align-items:center;min-width:100px;max-width:168px;padding:12px 15px;display:flex;position:relative}.gmal-msg-main .gmal-icon{margin:10px;font-size:1.8em;line-height:1;display:block}.gmal-msg-content{text-align:center}@keyframes gmal-alert-in{0%{opacity:0;transform:translateY(-50%)scale(.6)}to{opacity:1;transform:translateY(-50%)scale(1)}}@keyframes gmal-alert-out{to{opacity:0;transform:translateY(-50%)scale(.6)}}\")}));return{version:\"2.0.1\",alert:x,notice:u((function(e){const t=r(a(\"notice\"));return s(t,[e.bottom?\"bottom:0\":\"top:0\",e.bottom?\"--y:100%\":\"--y:-100%\",e.background?`background:${e.background}`:\"\",e.color?`color:${e.color}`:\"\"]),t.innerHTML=`${e.content}`,{open:()=>{i().append(t),f(t,a(\"open\"))},close:async n=>(await e.beforeClose(n),f(t,a(\"close\")),new Promise((o=>{g(t,(r=>{r===a(\"close\")&&(t.remove(),e.onClosed(n),o())}))}))),$el:t}}),(()=>{d(\".gmal{--gmal-notice-bg:#e2e7ec;--gmal-notice-c:#333;--gmal-bar-bg:#0000000f}.gmal-notice{z-index:2;color:var(--gmal-notice-c);background:var(--gmal-notice-bg);animation-duration:.3s;position:fixed;left:0;right:0}.gmal-notice .gmal-notice-main{z-index:1;flex-direction:column;align-items:normal;display:flex;position:relative}.gmal-notice .gmal-notice-main .gmal-notice-content{text-align:center;padding:1.15em;font-weight:600}@keyframes gmal-open{0%{transform:translateY(var(--y))}to{transform:translateY(0)}}@keyframes gmal-close{0%{transform:translateY(0)}to{transform:translateY(var(--y))}}\")})),message:w}}();"}]